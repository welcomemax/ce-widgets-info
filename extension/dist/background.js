!function(t){var e={};function a(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(s,o,function(e){return t[e]}.bind(null,o));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=12)}({12:function(t,e,a){a(13),ewiBackgroundClass=function(){},ewiBackgroundClass.prototype={storedWidgetsData:{},widgetsData:[],sites:{},tabs:{},tab:{},tab_port:!1,popup_port:!1,init:function(){let t=this;function e(e){e&&e.method&&(e.data?t[e.method](e.data):t[e.method]())}chrome.extension.onConnect.addListener(function(t){this.popup_port=t,this.popup_port.onMessage.addListener(e)}),chrome.tabs.onUpdated.addListener(function(a,s,o){if(s&&s.status&&"complete"===s.status.toLowerCase()){if(!(a&&o&&o.url&&o.url.indexOf("http")+1))return;t.tab=o,t.tab.site=o.url.match(/^(?:https?:)?(?:\/\/)?(?:w+\.)?([^\/\?]+)/)[1],t.tabs[o.id]||(t.tabs[o.id]={id:o.id,site:o.site,url:o.url,title:o.title,favIconUrl:o.favIconUrl}),t.sites[o.site]||(t.sites[o.site]={site:o.site,pages:{}}),t.sites[o.site].pages[o.url]||(t.sites[o.site].pages[o.url]={url:o.url,widgetsData:[]}),t.tab_port=chrome.tabs.connect(t.tab.id),t.tab_port.onMessage.addListener(e),"partners.shopify.com"===t.tab.site&&o.url.match(/managed_stores\/new/)&&t.shopify_setManagedStore({store_url:t.getQueryParam("store_url",o.url),permissions:t.getQueryParam("permissions",o.url).split(","),message:t.getQueryParam("message",o.url)}),t.collectWidgetsData()}}),chrome.tabs.onActivated.addListener(function(e){t.tab=t.tabs[e.tabId],t.returnWidgetsData()})},setBadge:function(t){t?(chrome.browserAction.setBadgeText({text:t.toString()}),chrome.browserAction.setBadgeBackgroundColor({color:"#38393a"})):chrome.browserAction.setBadgeText({text:""})},collectWidgetsData:function(){this.tab_port.postMessage({method:"getWidgetsData"})},returnWidgetsData:function(t){t&&this.storeWidgetsData(t),this.tab&&this.storedWidgetsData[this.tab.id]?(this.widgetsData=this.storedWidgetsData[this.tab.id],this.setBadge(this.storedWidgetsData[this.tab.id].length)):(this.widgetsData=[],this.setBadge(0)),this.popup_port&&this.popup_port.postMessage({method:"setWidgetsData",data:this.widgetsData})},getQueryParam:function(t,e){t=t.replace(/[\[\]]/g,"\\$&");let a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},shopify_setManagedStore:function(t){this.tab_port.postMessage({method:"shopify_setManagedStore",data:t})},requestWidgetsData:function(){this.popup_port.postMessage({method:"setWidgetsData",data:this.widgetsData})},storeWidgetsData:function(t){this.storedWidgetsData[this.tab.id]=t}},ewiBackground=new ewiBackgroundClass,ewiBackground.init()},13:function(t,e){chrome.storage.sync.set({apps:function(t){return t.map(function(t){return{name:t.name,slug:t.slug,func:t.func,aliases:t.aliases?t.aliases.concat([t.slug,t.name]):[t.slug,t.name],type:"",version:{curr:!1,last:t.version?t.version:"1.0.0"}}})}([{slug:"instagram-feed",name:"Instagram Feed",func:"EappsInstagramFeed",aliases:["instagramfeed","instashow"]},{slug:"instalink",name:"Instagram Widget",func:"instalink"},{slug:"instagram-testimonials",name:"Instagram Testimonials",func:"EappsInstagramTestimonials"},{slug:"yottie",name:"Yottie",func:"yottie"},{slug:"google-maps",name:"Google Maps",func:"EappsGoogleMaps"},{slug:"pricing-table",name:"Pricing Table",func:"EappsPricingTable"},{slug:"social-icons",name:"Social Media Icons",func:"EappsMediaIcons"},{slug:"social-share-buttons",name:"Social Share Buttons",func:"EappsSocialShareButtons"},{slug:"facebook-feed",name:"Facebook Feed",func:"EappsFacebookFeed"},{slug:"facebook-comments",name:"Facebook Comments",func:"EappsFacebookComments"},{slug:"facebook-like-button",name:"Facebook Like Button",func:"EappsFacebookLikeButton"},{slug:"facebook-share-button",name:"Facebook Share Button",func:"EappsFacebookShareButton"},{slug:"testimonials-slider",name:"TestimonialsSlider",func:"EappsTestimonialsSlider"},{slug:"faq",name:"FAQ",func:"EappsFaq"},{slug:"contact-form",name:"Contact Form",func:"EappsContactForm"},{slug:"form-builder",name:"Form Builder",func:"EappsFormBuilder"}])},function(){})}});